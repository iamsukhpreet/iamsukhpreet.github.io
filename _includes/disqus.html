{% comment %}
  Disqus Comment System
  Provides a professional comment system with automatic sync across all devices
{% endcomment %}

{% if page.layout == 'post' %}
<div id="disqus_thread" class="mt-5"></div>

<!-- Disqus Diagnostic Info -->
<div class="alert alert-info" id="disqus-diagnostic" style="display: none;">
  <strong>Disqus Status:</strong>
  <ul>
    <li>Shortname: iamsukhpreet</li>
    <li>Page URL: {{ page.url | absolute_url }}</li>
    <li>Page Title: {{ page.title }}</li>
    <li>Page Identifier: {{ page.url }}</li>
  </ul>
  <p><strong>If comments don't appear:</strong></p>
  <ol>
    <li>Go to <a href="https://disqus.com/admin/" target="_blank">Disqus Admin</a></li>
    <li>Select your site: <strong>iamsukhpreet</strong></li>
    <li>Go to Settings â†’ General</li>
    <li>Add your domain: <strong>{{ site.url | default: "iamsukhpreet.github.io" }}</strong></li>
    <li>Save and wait 5-10 minutes</li>
  </ol>
</div>

<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    var disqus_config = function () {
    this.page.url = '{{ page.url | absolute_url }}';  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = '{{ page.url }}'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    this.page.title = '{{ page.title }}'; // Page title
    };
    
    // Show diagnostic info after 3 seconds if Disqus doesn't load
    setTimeout(function() {
        if (!document.querySelector('#disqus_thread iframe')) {
            document.getElementById('disqus-diagnostic').style.display = 'block';
        }
    }, 3000);
    
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://iamsukhpreet.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

<!-- Disqus Comment Count -->
<script id="dsq-count-scr" src="https://iamsukhpreet.disqus.com/count.js" async></script>
{% endif %}
